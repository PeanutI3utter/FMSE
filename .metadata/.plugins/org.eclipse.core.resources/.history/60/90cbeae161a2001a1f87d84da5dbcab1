chan request = [2] of { byte, chan}; 

active [2] proctype Server() {
  byte client; 
  chan replyChannel; 
  do
    :: request ? client, replyChannel ->
          printf("Client %d processed by server %d\n", client, _pid); 
          replyChannel ! _pid
  od
}

active [5] proctype Client() {
  /* fill in */
}
