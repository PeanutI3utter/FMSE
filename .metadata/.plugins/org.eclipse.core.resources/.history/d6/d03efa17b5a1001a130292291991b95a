mtype = {n,o,s,w};

int cross = 0;
int carsoncross = 0;

proctype car(int st, int fin){
	mtype pos = start;
	int step = finish - start / 2;
	do
	:: atomic{cross == 0; cross = _pid; carsoncross = carsoncross + 1; pos = pos + step;}
	:: atomic{cross == _pid; cross = 0; carsoncross = carsoncross - 1; pos = pos + step; break};
	od  
}

proctype watchdog(){
	assert(carsoncross <= 1);
}

init{

}