int cross[5]; // {north, east, south, west, center}
int carsoncross = 0;

proctype car(){
	int start = _pid % 4;
	cross[start] = _pid;
	do
	:: atomic{cross[4] == 0 && cross[(id - 2) % 4]; cross[4] = _pid; carsoncross = carsoncross + 1; cross[start] = 0}
	:: atomic{cross == _pid; cross = 0; carsoncross = carsoncross - 1;  break};
	od  
}

proctype watchdog(){
	assert(carsoncross <= 1);
}

init{
	atomic{
}